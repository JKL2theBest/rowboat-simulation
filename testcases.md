# Тест-кейсы для "Вёсельной лодки"

Этот документ описывает тестовые сценарии для API симуляции вёсельной лодки, разделенные по уровням тестирования.

## 1. Функциональное тестирование (Functional Testing)

*Тестирование отдельных публичных методов API для проверки их корректной работы в изоляции.*

| ID     | Название                                     | Шаги                                                                                                       | Ожидаемый результат                                            | Автоматизирован?                                         |
|--------|----------------------------------------------|------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|----------------------------------------------------------|
| **F-01** | Успешная посадка гребца на свободное место    | 1. Создать лодку (`state: IDLE`).<br>2. Вызвать `add_rower()` с новым гребцом и свободной позицией.           | Метод выполняется без ошибок. Статус лодки показывает гребца на указанном месте. | Да (`test_add_rower_successfully_to_any_seat`)           |
| **F-02** | Попытка посадить гребца на занятое место     | 1. Создать лодку.<br>2. Посадить гребца А на позицию Х.<br>3. Попытаться посадить гребца Б на позицию Х.     | Выброшено исключение `SeatOccupiedException`.                  | Да (`test_add_rower_to_occupied_seat_raises_exception`)  |
| **F-03** | Попытка посадить одного гребца дважды        | 1. Создать лодку.<br>2. Посадить гребца А на позицию Х.<br>3. Попытаться посадить гребца А на позицию Y.     | Выброшено исключение `RowboatException`.                       | Да (`test_add_same_rower_twice_raises_exception`)        |
| **F-04** | Успешное назначение вёсел                    | 1. Создать лодку.<br>2. Посадить гребца на среднюю скамью.<br>3. Вызвать `assign_oars_to_rower()`.         | Метод выполняется без ошибок. Статус показывает, что вёсла назначены этому гребцу. | Да (`test_successful_rowing_scenario`)                   |
| **F-05** | Попытка назначить вёсла без гребца          | 1. Создать лодку (средняя скамья пуста).<br>2. Вызвать `assign_oars_to_rower()`.                            | Выброшено исключение `OarAssignmentException`.                 | Да (`test_assign_oars_without_rower_on_middle_seat_raises_exception`) |
| **F-06** | Успешное начало гребли                       | 1. Выполнить шаги F-04.<br>2. Вызвать `row()`.                                                             | Состояние лодки меняется на `ROWING`.                          | Да (`test_successful_rowing_scenario`)                   |
| **F-07** | Попытка грести без назначенных вёсел         | 1. Создать лодку.<br>2. Посадить гребца на среднюю скамью.<br>3. Вызвать `row()`.                            | Выброшено исключение `NoRowersException`.                      | Да (`test_row_without_assigned_oars_raises_exception`)   |
| **F-08** | Управление якорем (опустить/поднять)         | 1. Создать лодку.<br>2. Вызвать `drop_anchor()`.<br>3. Проверить статус.<br>4. Вызвать `raise_anchor()`.<br>5. Проверить статус. | Состояние лодки корректно меняется `IDLE` -> `ANCHORED` -> `IDLE`. | Да (`test_drop_anchor_stops_rowing`, `test_raise_anchor_changes_state_to_idle`) |

---

## 2. Интеграционное тестирование (Integration Testing)

*Тестирование взаимодействия нескольких компонентов и правильности переходов между состояниями системы.*

| ID     | Название                                     | Шаги                                                                                                       | Ожидаемый результат                                            | Автоматизирован?                                         |
|--------|----------------------------------------------|------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|----------------------------------------------------------|
| **I-01** | Полный успешный сценарий использования        | 1. Посадить гребца.<br>2. Назначить вёсла.<br>3. Начать грести.<br>4. Остановить греблю.<br>5. Бросить якорь.<br>6. Поднять якорь. | Все операции выполняются последовательно, состояния (`IDLE`, `ROWING`, `ANCHORED`) меняются корректно. | Да (покрыто несколькими тестами, вкл. `test_successful_rowing_scenario`) |
| **I-02** | Попытка грести с опущенным якорем            | 1. Посадить гребца, назначить вёсла.<br>2. Вызвать `drop_anchor()`.<br>3. Вызвать `row()`.                 | Выброшено исключение `AnchorDroppedException`. Состояние остаётся `ANCHORED`. | Да (`test_row_when_anchored_raises_exception`)           |
| **I-03** | Опускание якоря останавливает движение        | 1. Начать греблю (`state: ROWING`).<br>2. Вызвать `drop_anchor()`.                                         | Состояние лодки меняется на `ANCHORED`.                        | Да (`test_drop_anchor_stops_rowing`)                     |
| **I-04** | Попытка посадить гребца во время движения    | 1. Начать греблю (`state: ROWING`).<br>2. Попытаться вызвать `add_rower()`.                                 | Выброшено исключение `RowboatException`. Состояние не меняется. | Да (тест можно добавить для полного покрытия)            |
| **I-05** | Попытка назначить вёсла с опущенным якорем   | 1. Посадить гребца.<br>2. Вызвать `drop_anchor()` (`state: ANCHORED`).<br>3. Попытаться вызвать `assign_oars_to_rower()`. | Выброшено исключение `OarAssignmentException`. Состояние не меняется. | Да (тест можно добавить для полного покрытия)            |

---

## 3. Системное тестирование (System Testing)

*Тестирование системы как "черного ящика" на основе общих требований и сценариев использования.*

| ID     | Название                                     | Сценарий                                                                                                   | Ожидаемый результат                                                                                  |
|--------|----------------------------------------------|------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| **S-01** | Типичное путешествие                         | Пользователь сажает гребца, даёт ему вёсла, гребёт до места, бросает якорь для остановки, затем поднимает якорь и возвращается. | API позволяет корректно выполнить всю последовательность действий без сбоев и неконсистентных состояний. |
| **S-02** | Нагрузочный сценарий (концепция)             | Посадить максимальное количество людей (3) на все скамьи. Выполнить все возможные действия.                | Система корректно обрабатывает максимальное количество сущностей, не падает.                         |
| **S-03** | Тестирование устойчивости (Recovery)         | Попытаться выполнить действия в нелогичном порядке (грести без гребца, бросить якорь дважды).              | Система корректно обрабатывает неверные вызовы, выбрасывая ожидаемые исключения и оставаясь в стабильном состоянии. |